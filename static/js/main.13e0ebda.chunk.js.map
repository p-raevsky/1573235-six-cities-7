{"version":3,"sources":["services/browser-history.js","settings.js","components/elements/logo/logo.jsx","const.js","store/action.js","six-cities-data.js","utils.js","store/api-actions.js","store/user/selectors.js","components/elements/sign-out/sign-out.jsx","components/elements/sign-in/sign-in.jsx","components/elements/header/header.jsx","components/elements/city-item/city-item.jsx","store/process/selectors.js","components/elements/cities-list/cities-list.jsx","components/elements/loading-screen/loading-screen.jsx","components/elements/load-wrapper/load-wrapper.jsx","components/elements/premium-mark/premium-mark.jsx","components/pages/offer.prop.js","components/elements/place-card/place-card.jsx","components/elements/places-list/places-list.jsx","hooks/use-map.js","components/elements/map/map.jsx","components/elements/sort-item/sort-item.jsx","components/elements/sort-list/sort-list.jsx","hooks/use-on-click-outside.js","components/elements/places-block/places-block.jsx","components/elements/places-empty/places-empty.jsx","components/elements/places-wrapper/places-wrapper.jsx","store/data/selectors.js","components/pages/main-page/main-page.jsx","components/pages/sing-in-page/sing-in-page.jsx","components/elements/footer/footer.jsx","components/pages/not-found-page/not-found-page.jsx","components/elements/private-route/private-route.jsx","components/elements/image/image.jsx","components/elements/property-goods-item/property-goods-item.jsx","components/pages/review.prop.js","components/elements/reviews-item/reviews-item.jsx","components/elements/rating-item/rating-item.jsx","components/elements/rating-list/rating-list.jsx","components/elements/reviews-form/reviews-form.jsx","components/elements/near-places-list/near-places-list.jsx","components/pages/room-page/room-page.jsx","components/elements/room-page-wrapper/room-page-wrapper.jsx","components/elements/favorites-places-list/favorites-places-list.jsx","components/elements/favorites-location/favorites-location.jsx","components/elements/favorites-list/favorites-list.jsx","components/elements/favorites-empty/favorites-empty.jsx","components/pages/favorites-page/favorites-page.jsx","components/app/app.jsx","store/process/process.js","store/data/data.js","store/user/user.js","store/root-reducer.js","services/api.js","store/middlewares/redirect.js","index.js"],"names":["browserHistory","createBrowserHistory","LogoType","HEADER","type","width","height","FOOTER","PlaceCardType","CITIES","className","NEAR_PLACES","FAVORITES","CustomPin","iconUrl","iconSize","iconAnchor","CityCenter","PARIS","location","latitude","longitude","zoom","COLOGNE","BRUSSELS","AMSTERDAM","HAMBURG","DUSSELDORF","ApiSettings","AlertValues","ReviewSettings","Logo","isActive","to","src","alt","toUpperCase","ErrorMessages","AppRoute","Cities","PlaceType","SortingType","POPULAR","PRICE_UP","PRICE_DOWN","RATING","HttpCode","UNAUTHORIZED","SERVER_ERROR","AuthorizationStatus","APIRoute","NameSpace","ActionType","setCurrentCity","createAction","payload","setActivePlaceID","setOpening","closeSorting","changeSortingType","loadOffers","loadOffer","loadReviews","loadNearby","requireAuthorization","closeSession","redirectToRoute","setEmail","setNewRating","loadFavorites","setUserAvatar","updateFavorites","parseOfferData","offer","parsedData","host","avatarUrl","avatar_url","isPro","is_pro","id","name","isFavorite","is_favorite","isPremium","is_premium","maxAdults","max_adults","previewImage","preview_image","parseReviewData","review","user","isCheckedAuth","authorizationStatus","getOfferRating","rating","Math","round","toString","showAlert","message","alertContainer","document","createElement","style","zIndex","position","left","top","transform","right","padding","fontSize","textAlign","backgroundColor","color","borderTop","boxShadow","textContent","body","append","setTimeout","remove","updateData","offers","idx","findIndex","item","slice","fetchHotelsList","dispatch","_getState","api","get","then","data","map","sendFavoritePlace","status","post","catch","getAuthorizationStatus","state","getUserEmail","userEmail","getUserAvatar","userAvatar","SignOut","useDispatch","useSelector","backgroundImage","borderRadius","onClick","evt","preventDefault","delete","localStorage","removeItem","SignIn","Header","isAuth","CityItem","cityItem","currentCity","onCurrentCity","data-city","target","closest","value","dataset","city","getCity","getActivePlaceId","activePlaceId","getSelectedSorting","selectedSorting","getIsSortingOpen","isSortingOpen","getNewRating","newRating","connect","setCity","cities","Object","values","LoadingScreen","LoadWrapper","isLoaded","children","PremiumMark","PropTypes","shape","bedrooms","number","isRequired","string","description","goods","arrayOf","bool","images","price","title","PlaceCard","props","placesType","offerRating","data-id","onMouseEnter","currentPlaceId","currentTarget","getAttribute","xlinkHref","PlacesList","places","useMap","mapRef","useState","setMap","useEffect","current","instance","leaflet","center","lat","lng","zoomControl","marker","tileLayer","attribution","addTo","Map","cityCenter","useRef","defaultCustomIcon","icon","currentCustomIcon","points","markers","layerGroup","forEach","String","flyTo","clearLayers","ref","SortItem","sortItem","onChahgeSortingType","tabIndex","data-name","changeSortType","sortItems","handler","listener","event","contains","addEventListener","removeEventListener","useOnClickOutside","action","method","PlacesBlock","placesCount","length","PlacesEmpty","PlacesWrapper","getOffer","getOffers","getReviews","reviews","getNearPlaces","nearPlaces","getFavorites","favorites","getIsFavoritesLoaded","isFavoritesLoaded","getIsOfferDataLoaded","isOfferDataLoaded","getIsOffersDataLoaded","isOffersDataLoaded","getIsReviewsDataLoaded","isReviewsDataLoaded","getIsNearPlacesDataLoaded","isNearPlacesDataLoaded","MainPage","useMemo","filteredPlaces","filter","place","sort","a","b","sortFilteredPlaces","SingInPage","loginRef","passwordRef","password","setPassword","isValid","setIsValid","onSubmit","trim","email","login","setItem","token","placeholder","data-testid","required","onChange","disabled","Footer","NotFoundPage","href","PrivateRoute","render","path","exact","redirectPath","routeProps","Image","url","PropertyGoodsItem","goodsItem","comment","date","ReviewsItem","parsedDate","dayjs","format","parseDate","dateTime","RatingItem","isDisabled","index","isChecked","Fragment","checked","htmlFor","RatingList","ratingArray","Array","fill","_","i","nanoid","ReviewsForm","isCommentTextValid","setIsCommentTextValid","isNewCommentDisabled","setNewCommentDisabling","newComment","setNewComment","createComment","finally","minLength","maxLength","NearPlacesList","RoomPage","placesForMap","push","avatarClassName","sortedReviews","date1","diff","bedroomsFeatureLabel","maxAdultsFeatureLabel","toFixed","RoomPageWrapper","offerId","fetchReviewsList","fetchNearbyList","FavoritesPlacesList","FavoritesLocationItem","FavoritesList","favoritesPlaces","uniquePlaces","Set","FavoritesEmpty","FavoritesPage","IsFavoritesLoaded","filteredOffers","App","match","params","initialState","process","createReducer","builder","addCase","combineReducers","getItem","redirect","_store","next","onUnauthorized","axios","create","baseURL","timeout","headers","interceptors","response","use","err","request","createAPI","store","configureStore","reducer","rootReducer","middleware","getDefaultMiddleware","thunk","extraArgument","concat","ReactDOM","StrictMode","history","getElementById"],"mappings":"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","file":"static/js/main.13e0ebda.chunk.js","sourcesContent":["import {createBrowserHistory} from 'history';\n\nconst browserHistory = createBrowserHistory();\n\nexport default browserHistory;\n","export const LogoType = {\n  HEADER: {\n    type: 'header',\n    width: '81',\n    height: '41',\n  },\n  FOOTER: {\n    type: 'footer',\n    width: '64',\n    height: '33',\n  },\n};\n\nexport const PlaceCardType = {\n  CITIES: {\n    type: 'cities',\n    className: 'cities__place-card place-card',\n    width: '260',\n    height: '200',\n  },\n  NEAR_PLACES: {\n    type: 'near-places',\n    className: 'near-places__card place-card',\n    width: '260',\n    height: '200',\n  },\n  FAVORITES: {\n    type: 'favorites',\n    className: 'favorites__card place-card',\n    width: '150',\n    height: '110',\n  },\n};\n\nexport const CustomPin = {\n  DEFAULT: {\n    iconUrl: 'img/pin.svg',\n    iconSize: [27, 39],\n    iconAnchor: [13, 39],\n  },\n  ACTIVE: {\n    iconUrl: 'img/pin-active.svg',\n    iconSize: [27, 39],\n    iconAnchor: [13, 39],\n  },\n};\n\nexport const CityCenter = {\n  PARIS: {\n    location: {\n      latitude: 48.85,\n      longitude: 2.35,\n      zoom: 12,\n    },\n  },\n  COLOGNE: {\n    location: {\n      latitude: 50.93,\n      longitude: 6.95,\n      zoom: 12,\n    },\n  },\n  BRUSSELS: {\n    location: {\n      latitude: 50.85,\n      longitude: 4.35,\n      zoom: 12,\n    },\n  },\n  AMSTERDAM: {\n    location: {\n      latitude: 52.38333,\n      longitude: 4.9,\n      zoom: 12,\n    },\n  },\n  HAMBURG: {\n    location: {\n      latitude: 53.54,\n      longitude: 9.99,\n      zoom: 12,\n    },\n  },\n  DUSSELDORF: {\n    location: {\n      latitude: 51.23,\n      longitude: 6.77,\n      zoom: 12,\n    },\n  },\n};\n\nexport const ApiSettings = {\n  BACKEND_URL: 'https://7.react.pages.academy/six-cities',\n  REQUEST_TIMEOUT: 5000,\n};\n\nexport const AlertValues = {\n  Z_INDEX: 1000,\n  POSITION: 'fixed',\n  WIDTH: 'max-content',\n  HEIGHT: 'max-content',\n  LEFT: '50%',\n  TOP: '50%',\n  TRANSRORM: 'translate(-50%, -50%)',\n  RIGHT: '50%',\n  PADDING: '50px 50px',\n  FONT_SIZE: '30px',\n  TEXT_ALIGN: 'center',\n  BACKGROUND_COLOR: 'white',\n  COLOR:'#00000',\n  BOX_SHADOW: '0 7px 15px rgba(0,0,0,0.5)',\n  SHOW_TIME: '3000',\n  BORDER_TOP: '10px solid #4481c3',\n};\n\nexport const ReviewSettings = {\n  MIN_LENGTH: 50,\n  MAX_LENGTH: 300,\n};\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport {LogoType} from '../../../settings';\n\nfunction Logo({isActive, type}) {\n  return (\n    <Link className={`${type}__logo-link ${isActive ? `${type}__logo-link--active` : ''}`} to=\"/\">\n      <img className={`${type}__logo`}\n        src=\"img/logo.svg\"\n        alt=\"6 cities logo\"\n        width={LogoType[type.toUpperCase()].width}\n        height={LogoType[type.toUpperCase()].height}\n      />\n    </Link>\n  );\n}\n\nLogo.propTypes = {\n  isActive: PropTypes.bool,\n  type: PropTypes.string.isRequired,\n};\n\nexport default Logo;\n","export const DEFAULT_OFFER_DATA = {\n  city: {\n    location: {\n      latitude: 0,\n      longitude: 0,\n      zoom: 0,\n    },\n    name: '',\n  },\n  images: [],\n  isPremium: false,\n  isFavorite: false,\n  title: '',\n  rating: 0,\n  type: '',\n  bedrooms: 0,\n  maxAdults: 0,\n  price: 0,\n  goods: [],\n  description: '',\n  id: 0,\n  previewImage: '',\n  host: {\n    id: 0,\n    name: '',\n    avatarUrl: '',\n    isPro: false,\n  },\n};\n\nexport const ErrorMessages = {\n  ERROR_RATING_MSG: 'Rating is required',\n  ERROR_COMMENT_MSG: 'Something went wrong, please try posting your comment later',\n  ERROR_CONNECT_MSG: 'Something went wrong. Try refreshing the page or come back later',\n};\n\nexport const AppRoute = {\n  ROOT: '/',\n  LOGIN: '/login',\n  FAVORITES: '/favorites',\n  OFFER: '/offer',\n  NOT_FOUND: '/404',\n};\n\nexport const Cities = {\n  PARIS: 'Paris',\n  COLOGNE: 'Cologne',\n  BRUSSELS: 'Brussels',\n  AMSTERDAM: 'Amsterdam',\n  HAMBURG: 'Hamburg',\n  DUSSELDORF: 'Dusseldorf',\n};\n\nexport const PlaceType = {\n  CITIES: 'CITIES',\n  NEAR_PLACES: 'NEAR_PLACES',\n  FAVORITES: 'FAVORITES',\n};\n\nexport const SortingType = {\n  POPULAR: 'Popular',\n  PRICE_UP: 'Price: low to high',\n  PRICE_DOWN: 'Price: high to low',\n  RATING: 'Top rated first',\n};\n\nexport const HttpCode = {\n  UNAUTHORIZED: 401,\n  SERVER_ERROR: 500,\n};\n\nexport const AuthorizationStatus = {\n  AUTH: 'AUTH',\n  NO_AUTH: 'NO_AUTH',\n  UNKNOWN: 'UNKNOWN',\n};\n\nexport const APIRoute = {\n  HOTELS: '/hotels',\n  LOGIN: '/login',\n  LOGOUT: '/logout',\n  FAVORITE: '/favorite',\n  COMMENTS: '/comments',\n};\n\nexport const NameSpace = {\n  DATA: 'DATA',\n  PROCESS: 'PROCESS',\n  USER: 'USER',\n};\n","import {createAction} from '@reduxjs/toolkit';\n\nexport const ActionType = {\n  CURRENT_CITY: 'process/city/addCurrent',\n  ACTIVE_PLACE_ID: 'process/places/activePlace',\n  IS_OPEN: 'process/sorting/isOpen',\n  SORTING_CLOSED: 'process/sorting/closed',\n  SORTING_TYPE: 'process/sorting/changeSortingType',\n  LOAD_OFFERS: 'data/loadOffers',\n  LOAD_OFFER: 'data/loadOffer',\n  LOAD_REVIEWS: 'data/loadReviews',\n  UPDATE_REVIEWS: 'data/updateReviews',\n  LOAD_NEARBY: 'data/loadNearby',\n  LOAD_FAVORITES: 'data/loadFavorites',\n  UPDATE_FAVORITES: 'data/updateFavorites',\n  REQUIRED_AUTHORIZATION: 'user/requiredAuthorization',\n  LOGOUT: 'user/logout',\n  REDIRECT_TO_ROUTE: 'redirectToRoute',\n  EMAIL: 'user/setEmail',\n  USER_AVATAR: 'user/setUserAvatar',\n  NEW_RATING: 'process/newRating',\n};\n\n\nexport const setCurrentCity = createAction(ActionType.CURRENT_CITY, (payload) => ({\n  payload,\n}));\n\nexport const setActivePlaceID = createAction(ActionType.ACTIVE_PLACE_ID, (payload) => ({\n  payload,\n}));\n\nexport const setOpening = createAction(ActionType.IS_OPEN);\n\nexport const closeSorting = createAction(ActionType.SORTING_CLOSED);\n\nexport const changeSortingType = createAction(ActionType.SORTING_TYPE, (payload) => ({\n  payload,\n}));\n\nexport const loadOffers = createAction(ActionType.LOAD_OFFERS, (payload) => ({\n  payload,\n}));\n\nexport const loadOffer = createAction(ActionType.LOAD_OFFER, (payload) => ({\n  payload,\n}));\n\nexport const loadReviews = createAction(ActionType.LOAD_REVIEWS, (payload) => ({\n  payload,\n}));\n\nexport const loadNearby = createAction(ActionType.LOAD_NEARBY, (payload) => ({\n  payload,\n}));\n\nexport const requireAuthorization = createAction(ActionType.REQUIRED_AUTHORIZATION, (payload) => ({\n  payload,\n}));\n\nexport const closeSession = createAction(ActionType.LOGOUT);\n\nexport const redirectToRoute = createAction(ActionType.REDIRECT_TO_ROUTE, (payload) => ({\n  payload,\n}));\n\nexport const setEmail = createAction(ActionType.EMAIL, (payload) => ({\n  payload,\n}));\n\nexport const setNewRating = createAction(ActionType.NEW_RATING, (payload) => ({\n  payload,\n}));\n\nexport const loadFavorites = createAction(ActionType.LOAD_FAVORITES, (payload) => ({\n  payload,\n}));\n\nexport const setUserAvatar = createAction(ActionType.USER_AVATAR, (payload) => ({\n  payload,\n}));\n\nexport const updateFavorites = createAction(ActionType.UPDATE_FAVORITES, (payload) => ({\n  payload,\n}));\n","import {SortingType} from './const';\nimport {AuthorizationStatus} from './const';\n\nexport const sortFilteredPlaces = (places, type, city) => {\n  const filteredPlaces = places.filter((place) => place.city.name === city);\n  switch (type) {\n    case SortingType.PRICE_UP:\n      return filteredPlaces.sort((a, b) => a.price - b.price);\n    case SortingType.PRICE_DOWN:\n      return filteredPlaces.sort((a, b) => b.price - a.price);\n    case SortingType.RATING:\n      return filteredPlaces.sort((a, b) => b.rating - a.rating);\n    default:\n      return filteredPlaces;\n  }\n};\n\nexport const parseOfferData = (offer) => {\n  const parsedData = {\n    ...offer,\n    host: {\n      avatarUrl: offer.host.avatar_url,\n      isPro: offer.host.is_pro,\n      id: offer.host.id,\n      name: offer.host.name,\n    },\n    isFavorite: offer.is_favorite,\n    isPremium: offer.is_premium,\n    maxAdults: offer.max_adults,\n    previewImage: offer.preview_image,\n  };\n\n  delete parsedData.is_favorite;\n  delete parsedData.is_premium;\n  delete parsedData.max_adults;\n  delete parsedData.preview_image;\n\n  return parsedData;\n};\n\nexport const parseReviewData = (review) => ({\n  ...review,\n  user: {\n    avatarUrl: review.user.avatar_url,\n    isPro: review.user.is_pro,\n    id: review.user.id,\n    name: review.user.name,\n  },\n});\n\nexport const isCheckedAuth = (authorizationStatus) => authorizationStatus === AuthorizationStatus.AUTH;\n","import {AlertValues} from './settings';\n\nexport function getOfferRating(rating) {\n  return (Math.round(rating) * 20).toString();\n}\n\nexport function getPoints(offers) {\n  return offers.map((offer) => Object({\n    id: offer.id,\n    location: offer.location,\n  }));\n}\n\nexport function showAlert(message) {\n  const alertContainer = document.createElement('div');\n\n  alertContainer.style.zIndex = AlertValues.Z_INDEX;\n  alertContainer.style.position = AlertValues.POSITION;\n  alertContainer.style.width = AlertValues.WIDTH;\n  alertContainer.style.height = AlertValues.HEIGHT;\n  alertContainer.style.left = AlertValues.LEFT;\n  alertContainer.style.top = AlertValues.TOP;\n  alertContainer.style.transform = AlertValues.TRANSRORM;\n  alertContainer.style.right = AlertValues.RIGHT;\n  alertContainer.style.padding = AlertValues.PADDING;\n  alertContainer.style.fontSize = AlertValues.FONT_SIZE;\n  alertContainer.style.textAlign = AlertValues.TEXT_ALIGN;\n  alertContainer.style.backgroundColor = AlertValues.BACKGROUND_COLOR;\n  alertContainer.style.color = AlertValues.COLOR;\n  alertContainer.style.borderTop = AlertValues.BORDER_TOP;\n  alertContainer.style.boxShadow = AlertValues.BOX_SHADOW;\n\n  alertContainer.textContent = message;\n\n  document.body.append(alertContainer);\n\n  setTimeout(() => {\n    alertContainer.remove();\n  }, AlertValues.SHOW_TIME);\n}\n\nexport function updateData(offers, offer) {\n  const idx = offers.findIndex((item) => item.id === offer.id);\n  if (idx === -1) {\n    return offers;\n  }\n\n  return [\n    ...offers.slice(0, idx),\n    offer,\n    ...offers.slice(idx + 1),\n  ];\n}\n","import {\n  loadOffers,\n  loadOffer,\n  loadReviews,\n  loadFavorites,\n  loadNearby,\n  requireAuthorization,\n  closeSession,\n  redirectToRoute,\n  setEmail,\n  setNewRating,\n  setUserAvatar,\n  updateFavorites\n} from './action';\nimport {\n  AuthorizationStatus,\n  APIRoute,\n  AppRoute,\n  ErrorMessages,\n  HttpCode\n} from '../const';\nimport {parseOfferData, parseReviewData} from '../six-cities-data';\nimport {showAlert} from '../utils';\n\nexport const fetchHotelsList = () => (dispatch, _getState, api) => (\n  api.get(APIRoute.HOTELS)\n    .then(({data}) => {\n      dispatch(loadOffers(\n        data.map((offer) => parseOfferData(offer)),\n      ));\n    })\n);\n\nexport const fetchNearbyList = (id) => (dispatch, _getState, api) => (\n  api.get(`${APIRoute.HOTELS}/${id}/nearby`)\n    .then(({data}) => {\n      dispatch(loadNearby(\n        data.map((offer) => parseOfferData(offer)),\n      ));\n    })\n    .catch(() => dispatch(redirectToRoute(AppRoute.NOT_FOUND)))\n);\n\nexport const fetchHotel = (id) => (dispatch, _getState, api) => (\n  api.get(`${APIRoute.HOTELS}/${id}`)\n    .then(({data}) => dispatch(loadOffer(parseOfferData(data))))\n    .catch(() => dispatch(redirectToRoute(AppRoute.NOT_FOUND)))\n);\n\nexport const fetchReviewsList = (id) => (dispatch, _getState, api) => (\n  api.get(`${APIRoute.COMMENTS}/${id}`)\n    .then(({data}) => {\n      dispatch(loadReviews(\n        data.map((review) => parseReviewData(review)),\n      ));\n    })\n    .catch(() => dispatch(redirectToRoute(AppRoute.NOT_FOUND)))\n);\n\nexport const fetchFavoriteList = () => (dispatch, _getState, api) => (\n  api.get(APIRoute.FAVORITE)\n    .then(({data}) => {\n      dispatch(loadFavorites(\n        data.map((offer) => parseOfferData(offer)),\n      ));\n    })\n    .catch(() => dispatch(redirectToRoute(AppRoute.LOGIN)))\n);\n\nexport const checkAuth = () => (dispatch, _getState, api) => (\n  api.get(APIRoute.LOGIN)\n    .then(({data, status}) => {\n      if (status >= HttpCode) {\n        showAlert(ErrorMessages.ERROR_CONNECT_MSG);\n      }\n      dispatch(setEmail(data.email));\n      dispatch(setUserAvatar(data.avatar_url));\n    })\n    .then(() => dispatch(requireAuthorization(AuthorizationStatus.AUTH)))\n    .catch(() => {})\n);\n\nexport const login = ({login: email, password}) => (dispatch, _getState, api) => (\n  api.post(APIRoute.LOGIN, {email, password})\n    .then(({data}) => {\n      localStorage.setItem('token', data.token);\n      dispatch(setEmail(data.email));\n      dispatch(setUserAvatar(data.avatar_url));\n    })\n    .then(() => dispatch(requireAuthorization(AuthorizationStatus.AUTH)))\n    .then(() => dispatch(redirectToRoute(AppRoute.ROOT)))\n);\n\nexport const logout = () => (dispatch, _getState, api) => (\n  api.delete(APIRoute.LOGOUT)\n    .then(() => localStorage.removeItem('token'))\n    .then(() => dispatch(closeSession()))\n    .then(() => dispatch(fetchHotelsList()))\n);\n\nexport const createComment = (id, {comment, rating}) => (dispatch, _getState, api) => (\n  api.post(`${APIRoute.COMMENTS}/${id}`, {comment, rating})\n    .then(({data}) => {\n      dispatch(loadReviews(\n        data.map((review) => parseReviewData(review)),\n      ));\n      dispatch(setNewRating(''));\n    })\n);\n\nexport const sendFavoritePlace = (id, status) => (dispatch, _getState, api) => (\n  api.post(`${APIRoute.FAVORITE}/${id}/${status}`)\n    .then(({data}) => {\n      dispatch(updateFavorites(parseOfferData(data)));\n    })\n    .catch(() => dispatch(redirectToRoute(AppRoute.LOGIN)))\n);\n","import {NameSpace} from '../../const';\n\nexport const getAuthorizationStatus = (state) => state[NameSpace.USER].authorizationStatus;\n\nexport const getUserEmail = (state) => state[NameSpace.USER].userEmail;\n\nexport const getUserAvatar = (state) => state[NameSpace.USER].userAvatar;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {useSelector, useDispatch} from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport {AppRoute} from '../../../const';\nimport {logout} from '../../../store/api-actions';\nimport {getUserAvatar} from '../../../store/user/selectors';\n\nfunction SignOut({userEmail}) {\n  const dispatch = useDispatch();\n  const userAvatar = useSelector(getUserAvatar);\n\n  return (\n    <>\n      <li className=\"header__nav-item user\">\n        <Link className=\"header__nav-link header__nav-link--profile\" to={AppRoute.FAVORITES}>\n          <div\n            className=\"header__avatar-wrapper user__avatar-wrapper\"\n            style={{backgroundImage: `url(${userAvatar})`, borderRadius: '50%'}}\n          >\n          </div>\n          <span className=\"header__user-name user__name\">{userEmail}</span>\n        </Link>\n      </li>\n      <li\n        className=\"header__nav-item\"\n        onClick={(evt) => {\n          evt.preventDefault();\n          dispatch(logout());\n        }}\n      >\n        <Link to=\"#\" className=\"header__nav-link\">\n          <span className=\"header__signout\">Sign out</span>\n        </Link>\n      </li>\n    </>\n  );\n}\n\nSignOut.propTypes = {\n  userEmail: PropTypes.string,\n};\n\nexport default SignOut;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {AppRoute} from '../../../const';\n\nfunction SignIn() {\n  return (\n    <li className=\"header__nav-item user\">\n      <Link className=\"header__nav-link header__nav-link--profile\" to={AppRoute.LOGIN}>\n        <div className=\"header__avatar-wrapper user__avatar-wrapper\"></div>\n        <span className=\"header__login\">Sign in</span>\n      </Link>\n    </li>\n  );\n}\n\nexport default SignIn;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {useSelector} from 'react-redux';\n\nimport Logo from '../logo/logo';\nimport SignOut from '../sign-out/sign-out';\nimport SignIn from '../sign-in/sign-in';\n\nimport {LogoType} from '../../../settings';\nimport {isCheckedAuth} from '../../../six-cities-data';\nimport {getAuthorizationStatus, getUserEmail} from '../../../store/user/selectors';\n\nfunction Header({isActive = false}) {\n  const authorizationStatus = useSelector(getAuthorizationStatus);\n  const userEmail = useSelector(getUserEmail);\n\n  const isAuth = isCheckedAuth(authorizationStatus);\n\n  return (\n    <header className=\"header\">\n      <div className=\"container\">\n        <div className=\"header__wrapper\">\n          <div className=\"header__left\">\n            <Logo type = {LogoType.HEADER.type} isActive = {isActive} />\n          </div>\n          <nav className=\"header__nav\">\n            <ul className=\"header__nav-list\">\n              {isAuth ? <SignOut userEmail = {userEmail} /> : <SignIn />}\n            </ul>\n          </nav>\n        </div>\n      </div>\n    </header>\n  );\n}\n\nHeader.propTypes = {\n  isActive: PropTypes.bool,\n};\n\nexport default Header;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\n\nfunction CityItem({cityItem, currentCity, onCurrentCity}) {\n  return (\n    <li className=\"locations__item\"\n      data-city={cityItem}\n      onClick={({target}) => {\n        if (target.closest('a')) {\n          const value = target.closest('li').dataset.city;\n          onCurrentCity(value);\n        }\n      }}\n    >\n      <Link to=\"\"\n        className={`locations__item-link tabs__item${currentCity === cityItem ? ' tabs__item--active' : ''}`}\n      >\n        <span>{cityItem}</span>\n      </Link>\n    </li>\n  );\n}\n\nCityItem.propTypes = {\n  cityItem: PropTypes.string.isRequired,\n  currentCity: PropTypes.string.isRequired,\n  onCurrentCity:  PropTypes.func.isRequired,\n};\n\nexport default CityItem;\n","import {NameSpace} from '../../const';\n\nexport const getCity = (state) => state[NameSpace.PROCESS].city;\n\nexport const getActivePlaceId = (state) => state[NameSpace.PROCESS].activePlaceId;\n\nexport const getSelectedSorting = (state) => state[NameSpace.PROCESS].selectedSorting;\n\nexport const getIsSortingOpen = (state) => state[NameSpace.PROCESS].isSortingOpen;\n\nexport const getNewRating = (state) => state[NameSpace.PROCESS].newRating;\n","import React from 'react';\nimport {connect, useSelector} from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport CityItem from '../city-item/city-item';\n\nimport {Cities} from '../../../const';\nimport {setCurrentCity} from '../../../store/action';\nimport {getCity} from '../../../store/process/selectors';\n\nfunction CitiesList({setCity}) {\n  const currentCity = useSelector(getCity);\n  const cities = Object.values(Cities);\n\n  return (\n    <div className=\"tabs\">\n      <section className=\"locations container\">\n        <ul className=\"locations__list tabs__list\">\n          {cities.map((cityItem) => <CityItem key = {cityItem} onCurrentCity = {setCity} cityItem = {cityItem} currentCity = {currentCity}/>)}\n        </ul>\n      </section>\n    </div>\n  );\n}\n\nCitiesList.propTypes = {\n  setCity: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  setCity(value) {\n    dispatch(setCurrentCity(value));\n  },\n});\n\nexport default connect(null, mapDispatchToProps)(CitiesList);\n","import React from 'react';\n\nimport './loading-screen.css';\n\nfunction LoadingScreen() {\n  return (\n    <div className=\"loading-spinner-pulse\">\n      <div className=\"loading-spinner\">\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n}\n\nexport default LoadingScreen;\n","import React from 'react';\nimport LoadingScreen from '../loading-screen/loading-screen';\nimport PropTypes from 'prop-types';\n\nfunction LoadWrapper({isLoaded, children}) {\n  return (isLoaded && children) || <LoadingScreen />;\n}\n\nLoadWrapper.propTypes = {\n  isLoaded: PropTypes.bool,\n  children: PropTypes.element,\n};\n\nexport default LoadWrapper;\n","import React from 'react';\n\nfunction PremiumMark() {\n  return (\n    <div className=\"place-card__mark\">\n      <span>Premium</span>\n    </div>\n  );\n}\n\nexport default PremiumMark;\n","import PropTypes from 'prop-types';\n\nexport default PropTypes.shape({\n  bedrooms: PropTypes.number.isRequired,\n  city: PropTypes.shape({\n    location: PropTypes.shape({\n      latitude: PropTypes.number.isRequired,\n      longitude: PropTypes.number.isRequired,\n      zoom: PropTypes.number.isRequired,\n    }),\n    name: PropTypes.string.isRequired,\n  }),\n  description: PropTypes.string.isRequired,\n  goods: PropTypes.arrayOf(PropTypes.string),\n  host: PropTypes.shape({\n    avatarUrl: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n    isPro: PropTypes.bool.isRequired,\n    name: PropTypes.string.isRequired,\n  }),\n  id: PropTypes.number.isRequired,\n  images: PropTypes.arrayOf(PropTypes.string),\n  isFavorite: PropTypes.bool.isRequired,\n  isPremium: PropTypes.bool.isRequired,\n  location: PropTypes.shape({\n    latitude: PropTypes.number.isRequired,\n    longitude: PropTypes.number.isRequired,\n    zoom: PropTypes.number.isRequired,\n  }),\n  maxAdults: PropTypes.number.isRequired,\n  previewImage: PropTypes.string.isRequired,\n  price: PropTypes.number.isRequired,\n  rating: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n});\n","import React from 'react';\nimport {useDispatch} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\n\nimport PremiumMark from '../premium-mark/premium-mark';\n\nimport placeCardProp from '../../pages/offer.prop';\n\nimport {getOfferRating} from '../../../utils';\nimport {PlaceType, AppRoute} from '../../../const';\nimport {PlaceCardType} from '../../../settings';\nimport {setActivePlaceID} from '../../../store/action';\nimport {sendFavoritePlace} from '../../../store/api-actions';\n\nfunction PlaceCard(props) {\n  const {\n    offer: {\n      isPremium,\n      isFavorite,\n      price,\n      rating,\n      id,\n      title,\n      type,\n      previewImage,\n    },\n    placesType,\n  } = props;\n\n  const dispatch = useDispatch();\n  const offerRating = getOfferRating(rating);\n  const status = isFavorite ? '0' : '1';\n\n  return (\n    <article className={PlaceCardType[placesType].className}\n      data-id = {id}\n      onMouseEnter = {({currentTarget}) => {\n        const currentPlaceId =currentTarget.getAttribute('data-id');\n        dispatch(setActivePlaceID(currentPlaceId));\n      }}\n    >\n      {isPremium && (placesType !== PlaceType.FAVORITES) ? <PremiumMark /> : ''}\n      <div className={`${PlaceCardType[placesType].type}__image-wrapper place-card__image-wrapper`}>\n        <Link to={`${AppRoute.OFFER}/${id}`}>\n          <img className=\"place-card__image\" src={previewImage}\n            width={PlaceCardType[placesType].width}\n            height={PlaceCardType[placesType].height}\n            alt=\"Place\"\n          />\n        </Link>\n      </div>\n      <div className=\"place-card__info\">\n        <div className=\"place-card__price-wrapper\">\n          <div className=\"place-card__price\">\n            <b className=\"place-card__price-value\">&euro;{price}</b>\n            <span className=\"place-card__price-text\">&#47;&nbsp;night</span>\n          </div>\n          <button\n            className={`place-card__bookmark-button button${isFavorite ? ' place-card__bookmark-button--active' : ''}`}\n            type=\"button\"\n            onClick={() => {\n              dispatch(sendFavoritePlace(id, status));\n            }}\n          >\n            <svg className=\"place-card__bookmark-icon\" width=\"18\" height=\"19\">\n              <use xlinkHref=\"#icon-bookmark\"></use>\n            </svg>\n            <span className=\"visually-hidden\">To bookmarks</span>\n          </button>\n        </div>\n        <div className=\"place-card__rating rating\">\n          <div className=\"place-card__stars rating__stars\">\n            <span style={{width: `${offerRating}%`}}></span>\n            <span className=\"visually-hidden\">Rating</span>\n          </div>\n        </div>\n        <h2 className=\"place-card__name\">\n          <Link to={`${AppRoute.OFFER}/${id}`}>\n            {title}\n          </Link>\n        </h2>\n        <p className=\"place-card__type\">{type}</p>\n      </div>\n    </article>\n  );\n}\n\nPlaceCard.propTypes = {\n  offer: placeCardProp,\n  placesType: PropTypes.string.isRequired,\n};\n\nexport default PlaceCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport PlaceCard from '../../elements/place-card/place-card';\nimport {PlaceType} from '../../../const';\n\nfunction PlacesList({places}) {\n  return (\n    <div className=\"cities__places-list places__list tabs__content\">\n      {places.map((offer) => <PlaceCard key = {offer.id} offer = {offer} placesType = {PlaceType.CITIES} />)}\n    </div>\n  );\n}\n\nPlacesList.propTypes = {\n  places: PropTypes.arrayOf(PropTypes.object),\n};\n\nexport default PlacesList;\n","import {useEffect, useState} from 'react';\nimport leaflet from 'leaflet';\n\nimport 'leaflet/dist/leaflet.css';\n\nfunction useMap(mapRef, city) {\n  const {location: {latitude, longitude, zoom}} = city;\n  const [map, setMap] = useState(null);\n\n  useEffect(() => {\n    if (mapRef.current !== null && map === null) {\n      const instance = leaflet.map(mapRef.current, {\n        center: {\n          lat: latitude,\n          lng: longitude,\n        },\n        zoom: zoom,\n        zoomControl: false,\n        marker: true,\n      });\n\n      leaflet\n        .tileLayer(\n          'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png',\n          {\n            attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\n          },\n        )\n        .addTo(instance);\n\n      setMap(instance);\n    }\n  }, [latitude, longitude, mapRef, zoom, map, city]);\n\n  return map;\n}\n\nexport default useMap;\n","import React, {useEffect, useRef} from 'react';\nimport PropTypes from 'prop-types';\nimport leaflet from 'leaflet';\n\nimport {CustomPin} from '../../../settings';\nimport useMap from '../../../hooks/use-map';\nimport {CityCenter} from '../../../settings';\nimport {getPoints} from '../../../utils';\nimport placeCardProp from '../../pages/offer.prop';\n\nimport 'leaflet/dist/leaflet.css';\n\nfunction Map({city, places, activePlaceId}) {\n  const cityCenter = CityCenter[city.toUpperCase()];\n  const mapRef = useRef(null);\n  const map = useMap(mapRef, cityCenter);\n  const defaultCustomIcon = leaflet.icon(CustomPin.DEFAULT);\n  const currentCustomIcon = leaflet.icon(CustomPin.ACTIVE);\n  const points = getPoints(places);\n  const {location: {latitude: lat, longitude: lng, zoom}} = cityCenter;\n\n  useEffect(() => {\n    const markers = leaflet.layerGroup();\n\n    if (map) {\n      markers.addTo(map);\n\n      points.forEach(({id, location: {latitude, longitude}}) => {\n        leaflet\n          .marker({\n            lat: latitude,\n            lng: longitude,\n          }, {\n            icon: String(id) === activePlaceId ? currentCustomIcon : defaultCustomIcon,\n          })\n          .addTo(markers);\n      });\n\n      map.flyTo([lat, lng], zoom);\n    }\n\n    return () => {\n      markers.clearLayers();\n    };\n\n  }, [currentCustomIcon, defaultCustomIcon, lat, lng, zoom, city, activePlaceId, map, points]);\n\n  return (\n    <div\n      style={{height: '100%'}}\n      ref={mapRef}\n    >\n    </div>\n  );\n}\n\nMap.propTypes = {\n  city: PropTypes.string.isRequired,\n  places: PropTypes.arrayOf(placeCardProp),\n  activePlaceId: PropTypes.string,\n};\n\nexport default Map;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction SortItem({selectedSorting, sortItem, onChahgeSortingType}) {\n  return (\n    <li\n      className={`places__option ${sortItem === selectedSorting ? 'places__option--active' : ''}`}\n      tabIndex=\"0\"\n      data-name={sortItem}\n      onClick={({target}) => {\n        const value = target.dataset.name;\n        onChahgeSortingType(value);\n      }}\n    >\n      {sortItem}\n    </li>\n  );\n}\n\nSortItem.propTypes = {\n  selectedSorting: PropTypes.string.isRequired,\n  sortItem: PropTypes.string.isRequired,\n  onChahgeSortingType: PropTypes.func.isRequired,\n};\n\nexport default SortItem;\n","import React, {useRef}  from 'react';\nimport PropTypes from 'prop-types';\nimport {connect, useSelector, useDispatch} from 'react-redux';\n\nimport SortItem from '../../elements/sort-item/sort-item';\n\nimport {SortingType} from '../../../const';\nimport {setOpening, changeSortingType, closeSorting} from '../../../store/action';\nimport {useOnClickOutside} from '../../../hooks/use-on-click-outside';\nimport {getSelectedSorting, getIsSortingOpen} from '../../../store/process/selectors';\n\nfunction SortList({changeSortType}) {\n  const isSortingOpen = useSelector(getIsSortingOpen);\n  const selectedSorting = useSelector(getSelectedSorting);\n\n  const sortItems = Object.values(SortingType);\n  const ref = useRef();\n  const dispatch = useDispatch();\n\n  useOnClickOutside(ref, () => dispatch(closeSorting()));\n\n  return (\n    <form\n      className=\"places__sorting\"\n      action=\"#\"\n      method=\"get\"\n      ref={ref}\n      onClick={({target}) => {\n        if (target.closest('.places__sorting-type') || target.closest('.places__options')) {\n          dispatch(setOpening());\n        }\n      }}\n    >\n      <span className=\"places__sorting-caption\">Sort by </span>\n      <span className=\"places__sorting-type\" tabIndex=\"0\">\n        {selectedSorting}\n        <svg className=\"places__sorting-arrow\" width=\"7\" height=\"4\">\n          <use xlinkHref=\"#icon-arrow-select\"></use>\n        </svg>\n      </span>\n      <ul\n        className={`places__options places__options--custom${isSortingOpen ? 'places__options--opened' : ''}`}\n        style={{position: `${isSortingOpen ? 'absolute' : ''}`, zIndex: `${isSortingOpen ? 1 : ''}`}}\n      >\n        {sortItems.map((sortItem) => <SortItem key = {sortItem} onChahgeSortingType = {changeSortType} sortItem = {sortItem} selectedSorting = {selectedSorting} />)}\n      </ul>\n    </form>\n  );\n}\n\nSortList.propTypes = {\n  changeSortType: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  changeSortType(value) {\n    dispatch(changeSortingType(value));\n  },\n});\n\nexport default connect(null, mapDispatchToProps)(SortList);\n","import {useEffect} from 'react';\n\nfunction useOnClickOutside(ref, handler) {\n  useEffect(\n    () => {\n      const listener = (event) => {\n        if (!ref.current || ref.current.contains(event.target)) {\n          return;\n        }\n\n        handler(event);\n      };\n      document.addEventListener('mousedown', listener);\n      document.addEventListener('touchstart', listener);\n      return () => {\n        document.removeEventListener('mousedown', listener);\n        document.removeEventListener('touchstart', listener);\n      };\n    }, [ref, handler]);\n}\n\nexport {useOnClickOutside};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {useSelector} from 'react-redux';\n\nimport PlacesList from '../places-list/places-list';\nimport Map from '../map/map';\nimport SortList from '../sort-list/sort-list';\n\nimport placeCardProp from '../../pages/offer.prop';\n\nimport {getCity, getActivePlaceId} from '../../../store/process/selectors';\n\nfunction PlacesBlock({places}) {\n  const currentCity = useSelector(getCity);\n  const activePlaceId = useSelector(getActivePlaceId);\n\n  const placesCount = places.length;\n\n  return (\n    <>\n      <section className=\"cities__places places\">\n        <h2 className=\"visually-hidden\">Places</h2>\n        <b className=\"places__found\">{placesCount} {placesCount === 1 ? 'place' : 'places'} to stay in {currentCity}</b>\n        <SortList />\n        <PlacesList places = {places} />\n      </section>\n      <div className=\"cities__right-section\">\n        <section className=\"cities__map map\">\n          <Map places = {places} city = {currentCity} activePlaceId = {activePlaceId} />\n        </section>\n      </div>\n    </>\n  );\n}\n\nPlacesBlock.propTypes = {\n  places: PropTypes.arrayOf(placeCardProp),\n};\n\nexport default PlacesBlock;\n","import React from 'react';\nimport {useSelector} from 'react-redux';\nimport {getCity} from '../../../store/process/selectors';\n\nfunction PlacesEmpty() {\n  const currentCity = useSelector(getCity);\n\n  return (\n    <div className=\"cities__places-container cities__places-container--empty container\">\n      <section className=\"cities__no-places\">\n        <div className=\"cities__status-wrapper tabs__content\">\n          <b className=\"cities__status\">No places to stay available</b>\n          <p className=\"cities__status-description\">{`We could not find any property available at the moment in ${currentCity}`}</p>\n        </div>\n      </section>\n      <div className=\"cities__right-section\"></div>\n    </div>\n  );\n}\n\nexport default PlacesEmpty;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport PlacesBlock from '../../elements/places-block/places-block';\nimport PlacesEmpty from '../../elements/places-empty/places-empty';\n\nimport placeCardProp from '../../pages/offer.prop';\n\nfunction PlacesWrapper({places}) {\n  return (places.length && <PlacesBlock places = {places} />) || <PlacesEmpty />;\n}\n\nPlacesWrapper.propTypes = {\n  places: PropTypes.arrayOf(placeCardProp),\n};\n\nexport default PlacesWrapper;\n","import {NameSpace} from '../../const';\n\nexport const getOffer = (state) => state[NameSpace.DATA].offer;\n\nexport const getOffers = (state) => state[NameSpace.DATA].offers;\n\nexport const getReviews = (state) => state[NameSpace.DATA].reviews;\n\nexport const getNearPlaces = (state) => state[NameSpace.DATA].nearPlaces;\n\nexport const getFavorites = (state) => state[NameSpace.DATA].favorites;\n\nexport const getIsFavoritesLoaded = (state) => state[NameSpace.DATA].isFavoritesLoaded;\n\nexport const getIsOfferDataLoaded = (state) => state[NameSpace.DATA].isOfferDataLoaded;\n\nexport const getIsOffersDataLoaded = (state) => state[NameSpace.DATA].isOffersDataLoaded;\n\nexport const getIsReviewsDataLoaded = (state) => state[NameSpace.DATA].isReviewsDataLoaded;\n\nexport const getIsNearPlacesDataLoaded = (state) => state[NameSpace.DATA].isNearPlacesDataLoaded;\n","import React, {useMemo, useEffect} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\n\nimport Header from '../../elements/header/header';\nimport CitiesList from '../../elements/cities-list/cities-list';\nimport LoadWrapper from '../../elements/load-wrapper/load-wrapper';\nimport PlacesWrapper from '../../elements/places-wrapper/places-wrapper';\n\nimport {sortFilteredPlaces} from '../../../six-cities-data';\nimport {fetchHotelsList} from '../../../store/api-actions';\n\nimport {getSelectedSorting, getCity} from '../../../store/process/selectors';\nimport {getIsOffersDataLoaded, getOffers} from '../../../store/data/selectors';\n\nfunction MainPage() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchHotelsList());\n  }, [dispatch]);\n\n  const offers = useSelector(getOffers);\n  const selectedSorting = useSelector(getSelectedSorting);\n  const city = useSelector(getCity);\n  const isOffersDataLoaded = useSelector(getIsOffersDataLoaded);\n  const places = useMemo(() => sortFilteredPlaces(offers, selectedSorting, city), [offers, selectedSorting, city]);\n\n  return (\n    <div className=\"page page--gray page--main\">\n      <Header isActive />\n      <main className={`page__main page__main--index${!places.length ? ' page__main--index-empty' : ''}`}>\n        <h1 className=\"visually-hidden\">Cities</h1>\n        <CitiesList />\n        <div className=\"cities\">\n          <div className=\"cities__places-container container\">\n            <LoadWrapper isLoaded = {isOffersDataLoaded}>\n              <PlacesWrapper places = {places} />\n            </LoadWrapper>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default MainPage;\n","import React, {useRef, useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {Link} from 'react-router-dom';\n\nimport Header from '../../elements/header/header';\n\nimport {login} from '../../../store/api-actions';\nimport {AppRoute} from '../../../const';\nimport {getCity} from '../../../store/process/selectors';\n\nfunction SingInPage() {\n  const currentCity = useSelector(getCity);\n\n  const loginRef = useRef();\n  const passwordRef = useRef();\n  const dispatch = useDispatch();\n  const [password, setPassword] = useState('');\n  const [isValid, setIsValid] = useState(false);\n\n  const checkValidity = (str) => str.trim() ? setIsValid(true) : setIsValid(false);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    passwordRef.current.value.trim();\n\n    dispatch(login({\n      login: loginRef.current.value,\n      password: password,\n    }));\n  };\n\n  const handlePasswordChange = ({target: {value}}) => {\n    setPassword(value);\n    checkValidity(value);\n  };\n\n  return (\n    <div className=\"page page--gray page--login\">\n      <Header />\n      <main className=\"page__main page__main--login\">\n        <div className=\"page__login-container container\">\n          <section className=\"login\">\n            <h1 className=\"login__title\">Sign in</h1>\n            <form\n              className=\"login__form form\"\n              action=\"#\"\n              method=\"post\"\n              onSubmit={handleSubmit}\n            >\n              <div className=\"login__input-wrapper form__input-wrapper\">\n                <label className=\"visually-hidden\">E-mail</label>\n                <input\n                  ref={loginRef}\n                  className=\"login__input form__input\"\n                  type=\"email\"\n                  name=\"email\"\n                  placeholder=\"Email\"\n                  data-testid=\"login\"\n                  required\n                />\n              </div>\n              <div className=\"login__input-wrapper form__input-wrapper\">\n                <label className=\"visually-hidden\">Password</label>\n                <input\n                  className=\"login__input form__input\"\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"Password\"\n                  required\n                  data-testid=\"password\"\n                  ref={passwordRef}\n                  onChange={handlePasswordChange}\n                />\n              </div>\n              <button\n                className=\"login__submit form__submit button\"\n                type=\"submit\"\n                disabled={!isValid}\n              >\n                Sign in\n              </button>\n            </form>\n          </section>\n          <section className=\"locations locations--login locations--current\">\n            <div className=\"locations__item\">\n              <Link className=\"locations__item-link\" to={AppRoute.ROOT}>\n                <span>{currentCity}</span>\n              </Link>\n            </div>\n          </section>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default SingInPage;\n","import React from 'react';\n\nimport Logo from '../logo/logo';\n\nimport {LogoType} from '../../../settings';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer container\">\n      <Logo type = {LogoType.FOOTER.type} />\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nimport Header from '../../elements/header/header';\nimport Footer from '../../elements/footer/footer';\n\nfunction NotFoundPage() {\n  return (\n    <div className=\"page\">\n      <Header />\n      <main className=\"page__main container\">\n        <section style={{width: '100%'}}>\n          <h1>404. Page not found</h1>\n          <a href=\"/\">Back to Home page</a>\n        </section>\n      </main>\n      <Footer />\n    </div>\n  );\n}\n\nexport default NotFoundPage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Route, Redirect} from 'react-router-dom';\n\nfunction PrivateRoute({render, path, exact, isAuth, redirectPath}) {\n\n  return (\n    <Route\n      path={path}\n      exact={exact}\n      render={(routeProps) => (\n        isAuth\n          ? render(routeProps)\n          : <Redirect to={redirectPath} />\n      )}\n    />\n  );\n}\n\nPrivateRoute.propTypes = {\n  exact: PropTypes.bool.isRequired,\n  isAuth: PropTypes.bool.isRequired,\n  path: PropTypes.string.isRequired,\n  render: PropTypes.func.isRequired,\n  redirectPath: PropTypes.string.isRequired,\n};\n\nexport default PrivateRoute;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Image({url}) {\n  return (\n    <div className=\"property__image-wrapper\">\n      <img className=\"property__image\" src={url} alt=\"Property\" />\n    </div>\n  );\n}\n\nImage.propTypes = {\n  url: PropTypes.string.isRequired,\n};\n\nexport default Image;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction PropertyGoodsItem({goodsItem}) {\n  return (\n    <li className=\"property__inside-item\">\n      {goodsItem}\n    </li>\n  );\n}\n\nPropertyGoodsItem.propTypes = {\n  goodsItem: PropTypes.string.isRequired,\n};\n\nexport default PropertyGoodsItem;\n","import PropTypes from 'prop-types';\n\nexport default PropTypes.shape({\n  review: PropTypes.shape({\n    comment: PropTypes.string.isRequired,\n    date: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n    rating: PropTypes.number.isRequired,\n    user: PropTypes.shape({\n      avatarUrl: PropTypes.string.isRequired,\n      id: PropTypes.number.isRequired,\n      isPro: PropTypes.bool.isRequired,\n      name: PropTypes.string.isRequired,\n    }),\n  }),\n});\n","import React from 'react';\nimport dayjs from 'dayjs';\n\nimport reviewsProp from '../../pages/review.prop';\nimport {getOfferRating} from '../../../utils';\n\nfunction parseDate(date) {\n  return dayjs(date).format('MMM YYYY');\n}\n\nfunction ReviewsItem(props) {\n  const {\n    review: {\n      comment,\n      date,\n      rating,\n      user: {\n        avatarUrl,\n        name,\n      },\n    },\n  } = props;\n\n  const offerRating = getOfferRating(rating);\n  const parsedDate = parseDate(date);\n\n  return (\n    <li className=\"reviews__item\">\n      <div className=\"reviews__user user\">\n        <div className=\"reviews__avatar-wrapper user__avatar-wrapper\">\n          <img className=\"reviews__avatar user__avatar\" src={avatarUrl} width=\"54\" height=\"54\" alt=\"Reviews avatar\" />\n        </div>\n        <span className=\"reviews__user-name\">\n          {name}\n        </span>\n      </div>\n      <div className=\"reviews__info\">\n        <div className=\"reviews__rating rating\">\n          <div className=\"reviews__stars rating__stars\">\n            <span style={{width: `${offerRating}%`}}></span>\n            <span className=\"visually-hidden\">Rating</span>\n          </div>\n        </div>\n        <p className=\"reviews__text\">\n          {comment}\n        </p>\n        <time className=\"reviews__time\" dateTime={parsedDate}>{parsedDate}</time>\n      </div>\n    </li>\n  );\n}\n\nReviewsItem.propTypes = {\n  review: reviewsProp,\n};\n\nexport default ReviewsItem;\n","import React from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport {setNewRating} from '../../../store/action';\nimport {getNewRating} from '../../../store/process/selectors';\n\nfunction RatingItem({isDisabled, index}) {\n  const dispatch = useDispatch();\n\n  const newRating = useSelector(getNewRating);\n\n  const isChecked = newRating === String(index);\n\n  return (\n    <React.Fragment>\n      <input\n        className=\"form__rating-input visually-hidden\"\n        name=\"rating\"\n        value={index}\n        id={`${index}-stars`}\n        type=\"radio\"\n        checked={isChecked}\n        disabled={isDisabled}\n        onChange={({target}) => {\n          dispatch(setNewRating(target.value));\n        }}\n      />\n      <label htmlFor={`${index}-stars`} className=\"reviews__rating-label form__rating-label\" title=\"perfect\">\n        <svg className=\"form__star-image\" width=\"37\" height=\"33\">\n          <use xlinkHref=\"#icon-star\"></use>\n        </svg>\n      </label>\n    </React.Fragment>\n  );\n}\n\nRatingItem.propTypes = {\n  index: PropTypes.number.isRequired,\n  isDisabled: PropTypes.bool.isRequired,\n};\n\nexport default RatingItem;\n","import React from 'react';\nimport {nanoid} from 'nanoid';\nimport PropTypes from 'prop-types';\n\nimport RatingItem from '../rating-item/rating-item';\n\nconst STARS_NUMBER = 5;\n\nfunction RatingList({isDisabled}) {\n  const ratingArray = new Array(STARS_NUMBER).fill(null);\n\n  return (\n    <div className=\"reviews__rating-form form__rating\">\n      {ratingArray.map((_,i) => <RatingItem index = {5 - i} key = {nanoid()} isDisabled = {isDisabled} />)}\n    </div>\n  );\n}\n\nRatingList.propTypes = {\n  isDisabled: PropTypes.bool.isRequired,\n};\n\nexport default RatingList;\n","import React, {useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport RatingList from '../rating-list/rating-list';\n\nimport {createComment} from '../../../store/api-actions';\nimport {showAlert} from '../../../utils';\nimport {ErrorMessages} from '../../../const';\nimport {ReviewSettings} from '../../../settings';\n\nimport {getNewRating} from '../../../store/process/selectors';\n\nfunction ReviewsForm({id}) {\n  const dispatch = useDispatch();\n  const [isCommentTextValid, setIsCommentTextValid] = useState(false);\n  const [isNewCommentDisabled, setNewCommentDisabling] = useState(false);\n  const [newComment, setNewComment] = useState('');\n\n  const newRating = useSelector(getNewRating);\n\n  const checkCommentTextValidity = (comment) => (comment.length >= ReviewSettings.MIN_LENGTH && comment.length < ReviewSettings.MAX_LENGTH)\n    ? setIsCommentTextValid(true)\n    : setIsCommentTextValid(false);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    if (!newRating.length) {\n      showAlert(ErrorMessages.ERROR_RATING_MSG);\n      return;\n    }\n\n    setNewCommentDisabling(true);\n    dispatch(createComment(id, {\n      comment: newComment,\n      rating: newRating,\n    }))\n      .then(() => setIsCommentTextValid(false))\n      .then(() => setNewComment(''))\n      .catch(() => showAlert(ErrorMessages.ERROR_COMMENT_MSG))\n      .finally(() => setNewCommentDisabling(false));\n  };\n\n  const handleCommentChange = ({target: {value}}) => {\n    setNewComment(value);\n    checkCommentTextValidity(value);\n  };\n\n  return (\n    <form className=\"reviews__form form\" action=\"#\" method=\"post\"\n      onSubmit = {handleSubmit}\n    >\n      <label className=\"reviews__label form__label\" htmlFor=\"review\">Your review</label>\n      <RatingList isDisabled = {isNewCommentDisabled} />\n      <textarea className=\"reviews__textarea form__textarea\" id=\"review\" name=\"review\"\n        placeholder=\"Tell how was your stay, what you like and what can be improved\"\n        onChange={handleCommentChange}\n        value={newComment}\n        disabled={isNewCommentDisabled}\n        minLength={ReviewSettings.MIN_LENGTH}\n        maxLength={ReviewSettings.MAX_LENGTH}\n      >\n      </textarea>\n      <div className=\"reviews__button-wrapper\">\n        <p className=\"reviews__help\">\n          To submit review please make sure to set <span className=\"reviews__star\">rating</span> and describe your stay with at least <b className=\"reviews__text-amount\">50 characters</b>.\n        </p>\n        <button\n          className=\"reviews__submit form__submit button\"\n          type=\"submit\"\n          disabled={!isCommentTextValid || isNewCommentDisabled}\n        >\n          Submit\n        </button>\n      </div>\n    </form>\n  );\n}\n\nReviewsForm.propTypes = {\n  id: PropTypes.number,\n};\n\nexport default ReviewsForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport PlaceCard from '../place-card/place-card';\n\nimport placeCardProp from '../../pages/offer.prop';\nimport {PlaceType} from '../../../const';\n\nfunction NearPlacesList({places}) {\n  return (\n    <div className=\"near-places__list places__list\">\n      {places.map((place) => <PlaceCard key = {place.id} offer = {place} placesType = {PlaceType.NEAR_PLACES} />)}\n    </div>\n  );\n}\n\nNearPlacesList.propTypes = {\n  places: PropTypes.arrayOf(placeCardProp),\n};\n\nexport default NearPlacesList;\n","import React from 'react';\nimport dayjs from 'dayjs';\nimport {useSelector, useDispatch} from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport Image from '../../elements/image/image';\nimport PropertyGoodsItem from '../../elements/property-goods-item/property-goods-item';\nimport ReviewsItem from '../../elements/reviews-item/reviews-item';\nimport ReviewsForm from '../../elements/reviews-form/reviews-form';\nimport NearPlacesList from '../../elements/near-places-list/near-places-list';\nimport Map from '../../elements/map/map';\nimport Header from '../../elements/header/header';\nimport PremiumMark from '../../elements/premium-mark/premium-mark';\n\nimport placeCardProp from '../offer.prop';\nimport reviewCardProp from '../review.prop';\n\nimport {getOfferRating} from '../../../utils';\nimport {isCheckedAuth} from '../../../six-cities-data';\nimport {getAuthorizationStatus} from '../../../store/user/selectors';\nimport {sendFavoritePlace} from '../../../store/api-actions';\n\nconst SLICED_REVIEWS_NUMBER = 10;\n\nfunction RoomPage(props) {\n  const {\n    offer,\n    reviews,\n    nearPlaces,\n  } = props;\n  const {\n    city,\n    images,\n    isPremium,\n    isFavorite,\n    title,\n    rating,\n    type,\n    bedrooms,\n    maxAdults,\n    price,\n    goods,\n    description,\n    id,\n    host: {\n      name,\n      avatarUrl,\n      isPro,\n    } = {},\n  } = offer;\n\n  const authorizationStatus = useSelector(getAuthorizationStatus);\n  const dispatch = useDispatch();\n  const placesForMap = nearPlaces.slice();\n  placesForMap.push(offer);\n\n  const status = isFavorite ? '0' : '1';\n  const offerRating = getOfferRating(rating);\n  const avatarClassName = `property__avatar-wrapper${isPro ? ' property__avatar-wrapper--pro' : ''} user__avatar-wrapper`;\n  const sortedReviews = reviews\n    .slice(0, SLICED_REVIEWS_NUMBER)\n    .sort((a,b) => {\n      const date1 = dayjs(a.date);\n      const date2 = dayjs(b.date);\n\n      return date2.diff(date1);\n    });\n  const bedroomsFeatureLabel = `${bedrooms} ${bedrooms === 1 ? ' Bedroom' : ' Bedrooms'}`;\n  const maxAdultsFeatureLabel = `Max ${maxAdults} ${maxAdults === 1 ? ' adult' : ' adults'}`;\n\n  const isAuth = isCheckedAuth(authorizationStatus);\n\n  return (\n    <div className=\"page\">\n      <Header />\n      <main className=\"page__main page__main--property\">\n        <section className=\"property\">\n          <div className=\"property__gallery-container container\">\n            <div className=\"property__gallery\">\n              {images.map((url) => <Image key = {url} url = {url} />)}\n            </div>\n          </div>\n          <div className=\"property__container container\">\n            <div className=\"property__wrapper\">\n              {isPremium ? <PremiumMark /> : ''}\n              <div className=\"property__name-wrapper\">\n                <h1 className=\"property__name\">\n                  {title}\n                </h1>\n                <button\n                  className={`property__bookmark-button button${isFavorite ? ' property__bookmark-button--active' : ''}`}\n                  type=\"button\"\n                  onClick={() => {\n                    dispatch(sendFavoritePlace(id, status));\n                  }}\n                >\n                  <svg className=\"property__bookmark-icon\" width=\"31\" height=\"33\">\n                    <use xlinkHref=\"#icon-bookmark\"></use>\n                  </svg>\n                  <span className=\"visually-hidden\">To bookmarks</span>\n                </button>\n              </div>\n              <div className=\"property__rating rating\">\n                <div className=\"property__stars rating__stars\">\n                  <span style={{width: `${offerRating}%`}}></span>\n                  <span className=\"visually-hidden\">Rating</span>\n                </div>\n                <span className=\"property__rating-value rating__value\">{rating.toFixed(1)}</span>\n              </div>\n              <ul className=\"property__features\">\n                <li className=\"property__feature property__feature--entire\">\n                  {type}\n                </li>\n                <li className=\"property__feature property__feature--bedrooms\">\n                  {bedroomsFeatureLabel}\n                </li>\n                <li className=\"property__feature property__feature--adults\">\n                  {maxAdultsFeatureLabel}\n                </li>\n              </ul>\n              <div className=\"property__price\">\n                <b className=\"property__price-value\">&euro;{price}</b>\n                <span className=\"property__price-text\">&nbsp;night</span>\n              </div>\n              <div className=\"property__inside\">\n                <h2 className=\"property__inside-title\">What&apos;s inside</h2>\n                <ul className=\"property__inside-list\">\n                  {goods.map((item) => <PropertyGoodsItem key = {item} goodsItem = {item} />)}\n                </ul>\n              </div>\n              <div className=\"property__host\">\n                <h2 className=\"property__host-title\">Meet the host</h2>\n                <div className=\"property__host-user user\">\n                  <div className={avatarClassName}>\n                    <img className=\"property__avatar user__avatar\" src={avatarUrl} width=\"74\" height=\"74\" alt=\"Host avatar\" />\n                  </div>\n                  <span className=\"property__user-name\">\n                    {name}\n                  </span>\n                  {isPro ?\n                    <span className=\"property__user-status\">\n                        Pro\n                    </span>\n                    : ''}\n                </div>\n                <div className=\"property__description\">\n                  <p className=\"property__text\">\n                    {description}\n                  </p>\n                </div>\n              </div>\n              <section className=\"property__reviews reviews\">\n                <h2 className=\"reviews__title\">Reviews &middot; <span className=\"reviews__amount\">{sortedReviews.length}</span></h2>\n                <ul className=\"reviews__list\">\n                  {sortedReviews.map((review) => <ReviewsItem key = {review.id} review = {review} />)}\n                </ul>\n                {isAuth && <ReviewsForm id = {id} />}\n              </section>\n            </div>\n          </div>\n          <section className=\"property__map map\">\n            <Map city = {city.name} places = {placesForMap} activePlaceId = {String(id)} />\n          </section>\n        </section>\n        <div className=\"container\">\n          <section className=\"near-places places\">\n            <h2 className=\"near-places__title\">Other places in the neighbourhood</h2>\n            <NearPlacesList places = {nearPlaces}/>\n          </section>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nRoomPage.propTypes = {\n  offer: placeCardProp,\n  reviews: PropTypes.arrayOf(reviewCardProp),\n  nearPlaces: PropTypes.arrayOf(placeCardProp),\n};\n\nexport default RoomPage;\n","import React, {useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport {useSelector, useDispatch} from 'react-redux';\n\nimport RoomPage from '../../pages/room-page/room-page';\nimport LoadWrapper from '../load-wrapper/load-wrapper';\n\nimport {fetchHotel, fetchNearbyList, fetchReviewsList} from '../../../store/api-actions';\nimport {\n  getOffer,\n  getReviews,\n  getNearPlaces,\n  getIsOfferDataLoaded,\n  getIsReviewsDataLoaded,\n  getIsNearPlacesDataLoaded\n} from '../../../store/data/selectors';\n\nfunction RoomPageWrapper({offerId}) {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchHotel(offerId));\n    dispatch(fetchReviewsList(offerId));\n    dispatch(fetchNearbyList(offerId));\n  }, [dispatch, offerId]);\n\n  const offer = useSelector(getOffer);\n  const reviews = useSelector(getReviews);\n  const nearPlaces = useSelector(getNearPlaces);\n  const isOfferDataLoaded = useSelector(getIsOfferDataLoaded);\n  const isReviewsDataLoaded = useSelector(getIsReviewsDataLoaded);\n  const isNearPlacesDataLoaded = useSelector(getIsNearPlacesDataLoaded);\n\n  return (\n    <LoadWrapper isLoaded = {isOfferDataLoaded && isReviewsDataLoaded && isNearPlacesDataLoaded}>\n      <RoomPage offer = {offer} reviews = {reviews} nearPlaces = {nearPlaces} />\n    </LoadWrapper>\n  );\n}\n\nRoomPageWrapper.propTypes = {\n  offerId: PropTypes.string,\n};\n\nexport default RoomPageWrapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport PlaceCard from '../place-card/place-card';\n\nimport placeCardProp from '../../pages/offer.prop';\nimport {PlaceType} from '../../../const';\n\nfunction FavoritesPlacesList({filteredPlaces}) {\n  return (\n    <div className=\"favorites__places\">\n      {filteredPlaces.map((offer) => <PlaceCard key = {offer.id} offer = {offer} placesType = {PlaceType.FAVORITES} />)}\n    </div>\n  );\n}\n\nFavoritesPlacesList.propTypes = {\n  filteredPlaces: PropTypes.arrayOf(placeCardProp),\n};\n\nexport default FavoritesPlacesList;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {useDispatch} from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport FavoritesPlacesList from '../favorites-places-list/favorites-places-list';\n\nimport placeCardProp from '../../pages/offer.prop';\nimport {AppRoute} from '../../../const';\nimport {setCurrentCity} from '../../../store/action';\n\nfunction FavoritesLocationItem({city, filteredPlaces}) {\n  const dispatch = useDispatch();\n\n  return (\n    <li className=\"favorites__locations-items\">\n      <div\n        className=\"favorites__locations locations locations--current\"\n        onClick={({target}) => {\n          if (target.closest('a')) {\n            const value = target.closest('a').dataset.city;\n            dispatch(setCurrentCity(value));\n          }\n        }}\n      >\n        <div className=\"locations__item\">\n          <Link\n            to={AppRoute.ROOT}\n            className=\"locations__item-link\"\n            data-city={city}\n          >\n            <span>{city}</span>\n          </Link>\n        </div>\n      </div>\n      <FavoritesPlacesList filteredPlaces = {filteredPlaces}/>\n    </li>\n  );\n}\n\nFavoritesLocationItem.propTypes = {\n  city: PropTypes.string,\n  filteredPlaces: PropTypes.arrayOf(placeCardProp),\n};\n\nexport default FavoritesLocationItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport FavoritesLocationItem from '../../elements/favorites-location/favorites-location';\n\nimport placeCardProp from '../../pages/offer.prop';\n\nfunction FavoritesList({favoritesPlaces}) {\n  const uniquePlaces = [...new Set(favoritesPlaces.map((offer) => offer.city.name))];\n\n  return (\n    <section className=\"favorites\">\n      <h1 className=\"favorites__title\">Saved listing</h1>\n      <ul className=\"favorites__list\">\n        {uniquePlaces\n          .map((cityItem) => {\n            const filteredPlaces = favoritesPlaces.filter(({city}) => city.name === cityItem);\n            return filteredPlaces.length ? <FavoritesLocationItem key = {cityItem} city = {cityItem} filteredPlaces = {filteredPlaces} /> : '';\n          })}\n      </ul>\n    </section>\n  );\n}\n\nFavoritesList.propTypes = {\n  favoritesPlaces: PropTypes.arrayOf(placeCardProp),\n};\n\nexport default FavoritesList;\n","import React from 'react';\n\nfunction FavoritesEmpty() {\n  return (\n    <section className=\"favorites favorites--empty\">\n      <h1 className=\"visually-hidden\">Favorites (empty)</h1>\n      <div className=\"favorites__status-wrapper\">\n        <b className=\"favorites__status\">Nothing yet saved.</b>\n        <p className=\"favorites__status-description\">Save properties to narrow down search or plan your future trips.</p>\n      </div>\n    </section>\n  );\n}\n\nexport default FavoritesEmpty;\n","import React, {useEffect} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\n\nimport Header from '../../elements/header/header';\nimport Footer from '../../elements/footer/footer';\nimport FavoritesList from '../../elements/favorites-list/favorites-list';\nimport FavoritesEmpty from '../../elements/favorites-empty/favorites-empty';\nimport LoadWrapper from '../../elements/load-wrapper/load-wrapper';\n\nimport {fetchFavoriteList} from '../../../store/api-actions';\nimport {getFavorites, getIsFavoritesLoaded} from '../../../store/data/selectors';\n\nfunction FavoritesPage() {\n  const IsFavoritesLoaded = useSelector(getIsFavoritesLoaded);\n  const offers = useSelector(getFavorites);\n  const dispatch = useDispatch();\n  const filteredOffers = offers.filter(({isFavorite}) => isFavorite);\n\n  useEffect(() => {\n    dispatch(fetchFavoriteList());\n  }, [dispatch]);\n\n  return (\n    <div className={`page${offers ? ' page--favorites-empty' : ''}`}>\n      <Header />\n      <LoadWrapper isLoaded = {IsFavoritesLoaded}>\n        <main className={`page__main page__main--favorites${offers ? ' page__main--favorites-empty' : ''}`}>\n          <div className=\"page__favorites-container container\">\n            {filteredOffers.length ? <FavoritesList favoritesPlaces = {filteredOffers} /> : <FavoritesEmpty />}\n          </div>\n        </main>\n      </LoadWrapper>\n      <Footer />\n    </div>\n  );\n}\n\nexport default FavoritesPage;\n","import React from 'react';\nimport {Switch, Route} from 'react-router-dom';\nimport {useSelector} from 'react-redux';\n\nimport MainPage from '../pages/main-page/main-page';\nimport SingInPage from '../pages/sing-in-page/sing-in-page';\nimport NotFoundPage from '../pages/not-found-page/not-found-page';\nimport PrivateRoute from '../elements/private-route/private-route';\nimport RoomPageWrapper from '../elements/room-page-wrapper/room-page-wrapper';\nimport FavoritesPage from '../pages/favorites-page/favorites-page';\n\nimport {getAuthorizationStatus} from '../../store/user/selectors';\nimport {AppRoute, AuthorizationStatus} from '../../const';\n\nfunction App() {\n  const authorizationStatus = useSelector(getAuthorizationStatus);\n\n  return (\n    <Switch>\n      <Route\n        exact\n        path = {AppRoute.ROOT}\n      >\n        <MainPage />\n      </Route>\n      <PrivateRoute\n        exact\n        path = {AppRoute.FAVORITES}\n        isAuth = {authorizationStatus === AuthorizationStatus.AUTH}\n        redirectPath = {AppRoute.LOGIN}\n        render = {() => <FavoritesPage />}\n      />\n      <PrivateRoute\n        exact\n        path = {AppRoute.LOGIN}\n        isAuth = {authorizationStatus !== AuthorizationStatus.AUTH}\n        redirectPath = {AppRoute.ROOT}\n        render = {() => <SingInPage />}\n      />\n      <Route\n        exact\n        path = {`${AppRoute.OFFER}/:id`}\n        render = {({match}) => {\n          const {id} = match.params;\n\n          return (\n            <RoomPageWrapper offerId = {id} />\n          );\n        }}\n      />\n      <Route>\n        <NotFoundPage />\n      </Route>\n    </Switch>\n  );\n}\n\nexport default App;\n","import {createReducer} from '@reduxjs/toolkit';\n\nimport {\n  setCurrentCity,\n  setActivePlaceID,\n  setOpening,\n  closeSorting,\n  changeSortingType,\n  setNewRating\n} from '../action';\nimport {Cities, SortingType} from '../../const';\n\nconst initialState = {\n  city: Cities.PARIS,\n  activePlaceId: null,\n  isSortingOpen: false,\n  selectedSorting: SortingType.POPULAR,\n  newRating: '',\n};\n\nconst process = createReducer(initialState, (builder) => {\n  builder\n    .addCase(setCurrentCity, (state, action) => {\n      state.city = action.payload;\n    })\n    .addCase(setActivePlaceID, (state, action) => {\n      state.activePlaceId = action.payload;\n    })\n    .addCase(setOpening, (state) => {\n      state.isSortingOpen = !state.isSortingOpen;\n    })\n    .addCase(closeSorting, (state) => {\n      state.isSortingOpen = false;\n    })\n    .addCase(changeSortingType, (state, action) => {\n      state.selectedSorting = action.payload;\n    })\n    .addCase(setNewRating, (state, action) => {\n      state.newRating = action.payload;\n    });\n});\n\nexport {process};\n","import {createReducer} from '@reduxjs/toolkit';\nimport {updateData} from '../../utils';\nimport {DEFAULT_OFFER_DATA} from '../../const';\n\nimport {\n  loadOffers,\n  loadOffer,\n  loadReviews,\n  loadNearby,\n  loadFavorites,\n  updateFavorites\n} from '../action';\n\nconst initialState = {\n  offers: [],\n  offer: DEFAULT_OFFER_DATA,\n  reviews: [],\n  nearPlaces: [],\n  favorites: [],\n  isOffersDataLoaded: false,\n  isOfferDataLoaded: false,\n  isReviewsDataLoaded: false,\n  isNearPlacesDataLoaded: false,\n  isFavoritesLoaded: false,\n};\n\nconst data = createReducer(initialState, (builder) => {\n  builder\n    .addCase(loadOffers, (state, action) => {\n      state.isOffersDataLoaded = true;\n      state.offers = action.payload;\n    })\n    .addCase(loadOffer, (state, action) => {\n      state.isOfferDataLoaded = true;\n      state.offer = action.payload;\n    })\n    .addCase(loadReviews, (state, action) => {\n      state.isReviewsDataLoaded = true;\n      state.reviews = action.payload;\n    })\n    .addCase(loadNearby, (state, action) => {\n      state.isNearPlacesDataLoaded = true;\n      state.nearPlaces = action.payload;\n    })\n    .addCase(loadFavorites, (state, action) => {\n      state.isFavoritesLoaded = true;\n      state.favorites = action.payload;\n    })\n    .addCase(updateFavorites, (state, action) => {\n      state.favorites = updateData(state.favorites, action.payload);\n      state.offers = updateData(state.offers, action.payload);\n      state.nearPlaces = updateData(state.nearPlaces, action.payload);\n      state.offer = action.payload;\n    });\n});\n\nexport {data};\n","import {createReducer} from '@reduxjs/toolkit';\n\nimport {\n  requireAuthorization,\n  setEmail,\n  closeSession,\n  setUserAvatar\n} from '../action';\n\nimport {AuthorizationStatus} from '../../const';\n\nconst initialState = {\n  authorizationStatus: AuthorizationStatus.UNKNOWN,\n  userEmail: null,\n  userAvatar: '',\n};\n\nconst user = createReducer(initialState, (builder) => {\n  builder\n    .addCase(requireAuthorization, (state, action) => {\n      state.authorizationStatus = action.payload;\n    })\n    .addCase(closeSession, (state) => {\n      state.authorizationStatus = AuthorizationStatus.NO_AUTH;\n    })\n    .addCase(setEmail, (state, action) => {\n      state.userEmail = action.payload;\n    })\n    .addCase(setUserAvatar, (state, action) => {\n      state.userAvatar = action.payload;\n    });\n});\n\nexport {user};\n","import {combineReducers} from 'redux';\nimport {NameSpace} from '../const';\n\nimport {process} from './process/process';\nimport {data} from './data/data';\nimport {user} from './user/user';\n\nexport default combineReducers({\n  [NameSpace.DATA]: data,\n  [NameSpace.PROCESS]: process,\n  [NameSpace.USER]: user,\n});\n","import axios from 'axios';\nimport {ApiSettings} from '../settings';\nimport {HttpCode} from '../const';\n\nconst token = localStorage.getItem('token') ?? '';\n\nexport const createAPI = (onUnauthorized) => {\n  const api = axios.create({\n    baseURL: ApiSettings.BACKEND_URL,\n    timeout: ApiSettings.REQUEST_TIMEOUT,\n    headers: {\n      'x-token': token,\n    },\n  });\n\n  const onSuccess = (response) => response;\n\n  const onFail = (err) => {\n    const {response} = err;\n\n    if (response.status === HttpCode.UNAUTHORIZED) {\n      onUnauthorized();\n    }\n\n    throw err;\n  };\n\n  api.interceptors.response.use(onSuccess, onFail);\n\n  api.interceptors.request.use((request) => {\n    request.headers = { 'x-token': localStorage.getItem('token') ?? '' };\n    return request;\n  });\n\n  return api;\n};\n","import browserHistory from '../../services/browser-history';\nimport {ActionType} from '../action';\n\nexport const redirect = (_store) => (next) => (action) => {\n  if (action.type === ActionType.REDIRECT_TO_ROUTE) {\n    browserHistory.push(action.payload);\n  }\n\n  return next(action);\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {HashRouter as BrowserRouter} from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport {configureStore} from '@reduxjs/toolkit';\n\nimport browserHistory from './services/browser-history';\nimport App from './components/app/app';\nimport rootReducer from './store/root-reducer';\nimport {createAPI} from './services/api';\nimport {requireAuthorization} from './store/action';\nimport {checkAuth} from './store/api-actions';\nimport {AuthorizationStatus} from './const';\nimport {redirect} from './store/middlewares/redirect';\n\nconst api = createAPI(\n  () => store.dispatch(requireAuthorization(AuthorizationStatus.NO_AUTH)),\n);\n\nconst store = configureStore({\n  reducer: rootReducer,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      thunk: {\n        extraArgument: api,\n      },\n    }).concat(redirect),\n});\n\nstore.dispatch(checkAuth());\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter history={browserHistory}>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'));\n"],"sourceRoot":""}